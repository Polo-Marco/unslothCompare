name: lora-bench
channels:
  - nvidia
  - pytorch
  - conda-forge
  - defaults
dependencies:
  - python=3.10
  # (no torch here; we will install the exact pip wheels)
  - pip
  - pip:
      # PyTorch stack (official cu121 wheels; fully supported by bitsandbytes)
      - torch==2.5.1+cu121
      - torchvision==0.20.1+cu121
      - torchaudio==2.5.1+cu121
      - --extra-index-url https://download.pytorch.org/whl/cu121

      # Core libs (versions known-good with Unsloth)
      - bitsandbytes==0.45.0
      - transformers==4.46.3
      - peft==0.11.1
      - trl==0.9.6
      - datasets==2.20.0
      - accelerate==1.10.0
      - evaluate==0.4.2
      - scikit-learn==1.5.0
      - numpy==1.26.4
      - tqdm==4.66.4

      # Unsloth + its zoo (needs transformers>=4.46.1, pillow)
      - unsloth==2025.1.2
      - unsloth-zoo==2025.4.4
      - pillow

